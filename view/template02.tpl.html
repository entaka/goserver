<!DOCTYPE html>
<head lang="ja-JP">
    <meta charset="utf-8">
    <title>HTML5 ボイスコントロール テスト</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" />
    <link href="style.css" rel="stylesheet">
</head>
<style>
@import url(//fonts.googleapis.com/earlyaccess/notosansjapanese.css);

body {
  font-family: 'Noto Sans Japanese', serif;
    max-width:640px;
    margin: 0 auto;
}


#content{
   margin: 0 auto;
  width:300px;
  height: 200px;
  padding:20px;
  position: relative;
}

#box{
  position: absolute;
  top: 75px;
   right:125px;
  width:50px;
  height:50px;
  background-color:#ddd;
}

#text{
    margin-top:40px;
}
</style>
<body>
<h1 class="text-center h3"> Speech Recognition API 6</h1>
     <p  class="text-center">ボイスコントロールテスト</p>
	<p> key1: {{.key1}}, key2: {{.key2}}, key3: {{.key3}} </p>
<div id="content">
      <div id="box">
      </div>
</div>
<div class="text-center">
    <button id="startRecBtn" class="btn btn-default" onclick="start()">マイク 開始</button>
    <button id="stopRecBtn" class="btn btn-default" onclick="stop()">マイク 停止</button>
    <button id="aboutRecBtn" class="btn btn-default" onclick="about()">音声クラス状態</button>
    <button id="endTextBtn" class="btn btn-default" onclick="endText()">最終文字列</button>
</div>
<div id="text" class="text-center">
    <textarea id="area"></textarea>
</div>      
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>

<script src="/js/rec.js"></script>
<script>
var recs = [];
function start(){
    console.log('start');
    var rec = new Reco();
    rec.start();
    recs.push(rec);
}
function stop(){
    console.log('end');
    for(i=0;i<recs.length;i++){
        clearInterval(recs[i].interval);
        recs[i].stop();
    }
}
function about(){
    for(i=0;i<recs.length;i++){
        console.log(recs[i]);
    }
}
function endText(){
    for(i=0;i<recs.length;i++){
        console.log(recs[i].endText);
    }
}
</script>

</body>
</html>